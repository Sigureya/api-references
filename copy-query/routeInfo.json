{"path":"copy-query","templateID":1,"sharedPropsHashes":{"apiList":"Z1LD0UP"},"localProps":{"reference":{"title":"クエリ情報の取得","slug":"copy-query","description":"RPGアツマールでURLのquery情報を取得するにはこの機能を利用します。","order":21,"experimental":true,"contents":"<h2>概要</h2>\n<p>ブラウザのロケーションバーに入力されたクエリパラメータを取得することができる機能です。\nただし、すべてのクエリパラメータが取得可能というわけではなく、予めアツマールで予約された、<code>param1</code> ~ <code>param9</code> までの固定パラメータのみ値を取得できます。</p>\n<h3>どんなことができるの？</h3>\n<p><img src=\"https://atsumaru.github.io/api-references/images/copyquery_example.png\" alt=\"クエリ情報の取得\"></p>\n<p>スクリーンショットのように、ブラウザのロケーションバーに入力されたクエリパラメータを参照できます。以下のような利用を想定しています。</p>\n<ul>\n<li>秘密のURLからゲームを起動したときだけプレイできる隠し要素</li>\n<li>他のゲームから openLink 経由で開いてもらうことによる、ゲーム間連携</li>\n</ul>\n<h2>設置方法</h2>\n<p>クエリ情報を取得するには下記2つの方法が利用できます。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方法</th>\n<th align=\"left\">場所</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">アツマール公式プラグイン</td>\n<td align=\"left\"><a href=\"https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruQueryExperimental.js\">Github</a></td>\n</tr>\n<tr>\n<td align=\"left\">アツマール API</td>\n<td align=\"left\">-</td>\n</tr>\n</tbody></table>\n<h2>公式プラグインの利用方法</h2>\n<p>公式プラグインでクエリパラメータを取得するには以下のようにします。</p>\n<ol>\n<li>プロジェクトのプラグインフォルダに <a href=\"https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruQueryExperimental.js\">AtsumaruQueryExperimental.js</a> を右クリックし「保存」して設置</li>\n<li>イベントに <code>AtsumaruQueryExperimental</code> プラグインを設定</li>\n<li>プラグインコマンドでクエリパラメータを取得</li>\n</ol>\n<p><img src=\"https://atsumaru.github.io/api-references/images/copyquery_plugin_sample.png\" alt=\"クエリ情報取得プラグイン利用例\"></p>\n<p><br></p>\n<p>プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>CopyQuery {id1} {id2} ...\nクエリ取得 {id1} {id2} ...</code></pre><p>それぞれの <code>{id}</code> には任意の変数idを指定できます。\n指定した順番に、 <code>param1</code> から <code>param9</code> までのクエリパラメータの値が順番にコピーされます。</p>\n<h3>プラグインコマンド例</h3>\n<h4>変数10番にparam1の値を、変数11番にparam2の値を、変数12番にparam3の値をコピーする</h4>\n<pre><code>CopyQuery 10 11 12\nクエリ取得 10 11 12</code></pre><h2>APIを利用したquery情報取得方法</h2>\n<h3>query情報取得API</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\">window.RPGAtsumaru.experimental.query[key]</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">引数のkeyに指定した文字列のquery情報を取得します。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\">query名を表す文字列</td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\">query名に指定したqueryの値</td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/01/18</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/01/18</td>\n</tr>\n</tbody></table>\n"},"title":"クエリ情報の取得","path":"/copy-query"}}
