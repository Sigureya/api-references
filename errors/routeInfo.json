{"path":"errors","templateID":1,"sharedPropsHashes":{"apiList":"KkArj"},"localProps":{"reference":{"title":"エラーハンドリング","slug":"errors","description":"RPGアツマールのAPIが返すエラーについてのリファレンスです。","contents":"<h2>概要</h2>\n<p>各アツマールAPI共通で発生する可能性のある例外についての情報です。\n基本的にプラグイン作者向けの情報となります。(プラグイン利用者には基本的に必要ない情報となります)\nサーバエラーや非ログイン等のエラーを扱いたいときに必要となる情報です。</p>\n<h2>エラーオブジェクト</h2>\n<pre><code class=\"lang-ts\">interface AtsumaruApiError {\n  readonly errorType = &quot;atsumaruApiError&quot;;\n  readonly code: string;\n  readonly message: string;\n}</code></pre>\n<table>\n<thead>\n<tr>\n<th align=\"left\">code一覧</th>\n<th align=\"left\">解説</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">BAD_REQUEST</td>\n<td align=\"left\">ゲーム側で何かしらAPIの使い方を間違えている場合のコードです</td>\n</tr>\n<tr>\n<td align=\"left\">UNAUTHORIZED</td>\n<td align=\"left\">プレイヤーがログインしている必要があるAPIを、プレイヤーが非ログイン状態で使った場合のコードです</td>\n</tr>\n<tr>\n<td align=\"left\">INTERNAL_SERVER_ERROR</td>\n<td align=\"left\">サーバ側で何らかの問題が発生していたり、通信に失敗した場合のコードです</td>\n</tr>\n</tbody></table>\n<h3>コード例</h3>\n<pre><code class=\"lang-js\">window.RPGAtsumaru.experimental.scoreboards.setRecord(board_id, score)\n  .catch(function(err) {\n    switch(err.code) {\n      case &quot;BAD_REQUEST&quot;:\n        // ゲーム側で何か間違えているとき＝指定したボードIDが大きすぎるかマイナスの場合などに発生\n        /* エラーハンドリング処理 */\n        break;\n      case &quot;INTERNAL_SERVER_ERROR&quot;:\n        // サーバ側で何らかの問題＝通信不良やメンテ等で発生\n        /* エラーハンドリング処理 */\n        break;\n    }\n  })</code></pre>\n"}}}
