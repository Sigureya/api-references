---
title: niconicoログインについて
slug: common/login
description: niconicoログインがRPGアツマールのAPIに及ぼす影響について解説します。
order: 2
---

## niconicoログインについて
RPGアツマールでは、ユーザーはniconicoログインをすることで **ログイン状態** になることができます。
この状態でコメントをしたり、ゲームを投稿したりすることができますが、RPGアツマール ゲームAPIでもログイン状態を使った機能がいくつか提供されています。
例えば「ログインしているプレイヤー自身のユーザー情報を取得する」などが該当します。


## niconicoログイン必須なAPI一覧
現時点では以下のAPIが該当します。

- [プレイヤー間通信有効化API](/common/interplayer)
- [ユーザー情報取得API](/user) のうち、「現在ゲームをプレイしているログインユーザーのユーザー情報を取得」
- [シグナル送信API](/signal) のうち、「グローバルシグナルを受信する」以外


## ログインの有無によって挙動が変わるAPI
- [サーバーセーブAPI](/storage)
  - ログインしていない場合は一時セーブしかできません。
- [スコアボードAPI](/scoreboard) のうち、「スコアボードへの記録」
  - ログインしていなくてもエラーになりませんが、その場合はスコア登録されません。


## ログインせずにこれらのAPIを呼び出した場合
これらのAPIをログインせずに利用しようとすると、 **[UNAUTHORIZED](/common/errors)** エラーを返します。


## これらのAPIを安全に利用するために
[現在ゲームをプレイしているログインユーザーのユーザー情報を取得](/user#現在ゲームをプレイしているログインユーザーのユーザー情報を取得) を用いて、プレイしているユーザーがログイン状態かどうかを予め判別しておくことができます。絶対にログインしていないと遊べないゲーム構成の場合(シグナルAPIに強く依存しているなど)、ゲーム起動時にこのAPIを呼び出して、未ログイン状態の場合はログインを促すと良いでしょう。
